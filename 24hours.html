<html>

<head>
    <link rel="shortcut icon" href="rainbow.png" type="image/x-icon">
    <title>Weathering With Lun</title>
    <link rel="stylesheet" href="weathering.css">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script>
        $(document).ready(function () {
            $.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast")
                .done(function (result) {
                    if(result.items[0].periods[0].time.start.includes("12:00:00+08:00"))
                    {$("#firstTime").append("12PM-6PM");}
                    else if (result.items[0].periods[0].time.start.includes("18:00:00+08:00"))
                    {$("#firstTime").append("6PM-6AM");}
                    else {$("#firstTime").append("6AM-12PM");}

                    if(result.items[0].periods[1].time.start.includes("12:00:00+08:00"))
                    {$("#secondTime").append("12PM-6PM");}
                    else if (result.items[0].periods[1].time.start.includes("18:00:00+08:00"))
                    {$("#secondTime").append("6PM-6AM");}
                    else {$("#secondTime").append("6AM-12PM");}

                    if(result.items[0].periods[2].time.start.includes("12:00:00+08:00"))
                    {$("#thirdTime").append("12PM-6PM");}
                    else if (result.items[0].periods[2].time.start.includes("18:00:00+08:00"))
                    {$("#thirdTime").append("6PM-6AM");}
                    else {$("#thirdTime").append("6AM-12PM");}

                    $("#region0").append(
                        result.items[0].periods[0].regions.north);
                        $("#region1").append(
                            result.items[0].periods[1].regions.north);
                        $("#region2").append(
                            result.items[0].periods[2].regions.north);
                })

                $("#north").click(function () {
                $.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast")
                    .done(function (result) {
                        $("#region0").empty();$("#region1").empty();$("#region2").empty();
                        $("#region0").append(
                        result.items[0].periods[0].regions.north);
                        $("#region1").append(
                            result.items[0].periods[1].regions.north);
                        $("#region2").append(
                            result.items[0].periods[2].regions.north);
                    })
                })

                $("#south").click(function () {
                $.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast")
                    .done(function (result) {
                        $("#region0").empty();$("#region1").empty();$("#region2").empty();
                        $("#region0").append(
                        result.items[0].periods[0].regions.south);
                        $("#region1").append(
                            result.items[0].periods[1].regions.south);
                        $("#region2").append(
                            result.items[0].periods[2].regions.south);
                    })
                })

                $("#west").click(function () {
                $.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast")
                    .done(function (result) {
                        $("#region0").empty();$("#region1").empty();$("#region2").empty();
                        $("#region0").append(
                        result.items[0].periods[0].regions.west);
                        $("#region1").append(
                            result.items[0].periods[1].regions.west);
                        $("#region2").append(
                            result.items[0].periods[2].regions.west);
                    })
                })

                $("#east").click(function () {
                $.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast")
                    .done(function (result) {
                        $("#region0").empty();$("#region1").empty();$("#region2").empty();
                        $("#region0").append(
                        result.items[0].periods[0].regions.east);
                        $("#region1").append(
                            result.items[0].periods[1].regions.east);
                        $("#region2").append(
                            result.items[0].periods[2].regions.east);
                    })
                })

                $("#central").click(function () {
                $.get("https://api.data.gov.sg/v1/environment/24-hour-weather-forecast")
                    .done(function (result) {
                        $("#region0").empty();$("#region1").empty();$("#region2").empty();
                        $("#region0").append(
                        result.items[0].periods[0].regions.central);
                        $("#region1").append(
                            result.items[0].periods[1].regions.central);
                        $("#region2").append(
                            result.items[0].periods[2].regions.central);
                    })
                })
            })
    </script>
</head>
<body>
    <img src="rainbow.png" alt="">
    <h1>Weathering With Lun</h1>
    <h6>*Updated frequently from NEA</h6>
    <nav id="mainnav">
        <ul>
            <li><a href="index.html">Next 2 Hours</a></li>
            <li><a href="24hours.html">Next 24 Hours</a></li>
            <li><a href="4days.html">Next 4 Days</a></li>
        </ul>
    </nav>
    <div class="row">
        <div class="column">
            <nav id="nav24">
                <ul>
                    <li><a id="north">North</a></li>
                    <li><a id="south">South</a></li>
                    <li><a id="east">East</a></li>
                    <li><a id="west">West</a></li>
                    <li><a id="central">Central</a></li>

                </ul>
            </nav>
        </div>
        <div class="column">
            <table id="table_24hinfo">
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Forecast</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="firstTime"></td>
                        <td id="region0"></td>
                    </tr>
                    <tr>
                        <td id="secondTime"></td>
                        <td id="region1"></td>
                    </tr>
                    <tr>
                        <td  id="thirdTime"></td>
                        <td id="region2"></td>
                    </tr>      
                </tbody>
            </table>
        </div>
    </div>
</body>
<footer>
    Credits to <a href="https://www.flaticon.com/free-icons/rainbow" title="rainbow icons">Freepik - Flaticon</a> for
    all icons
</footer>

</html>